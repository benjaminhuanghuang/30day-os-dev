## Create os and put it into image file
```
projects/03_day/harib00e
```
![](./_images/boot-sector.png)

![](./_images/fat12-boot.png)


因为根目录区从19扇区开始，每个扇区512bytes，因此根目录下第一个文件的目录信息开始于19*512 = 0x2600

数据区开始扇区号 = 根目录开始扇区号+ 目录所占区号 = 19 + 14 = 33

第一个文件的起始位置在 512 * 33 = 0x4200

因此，向一个空软盘保存文件时，
- 文件名会写在0x002600以后的地方；
- 文件的内容会写在0x004200以后的地方。

所以可以将操作系统本身的内容写到名为haribote.sys文件中，再把它保存到磁盘映像里，然后从启动区执行这个haribote.sys

要怎样才能执行磁盘映像上位于0x004200号地址的程序呢？现在的程序是从启动区开始，把磁盘上的内容装载到内存0x8000号地址，所以磁盘0x4200处的内容就应该位于内存0x8000+0x4200=0xc200号地址。

所以 在haribote.nas里加上ORG 0xc200，ipl.nas处理的最后加上JMP 0xc200这个指令。